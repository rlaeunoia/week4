<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<title>Color Guess</title>
<link href="https://fonts.googleapis.com/css2?family=Gaegu&display=swap" rel="stylesheet">
<style>
  html, body { height: 100%; }
  body{
    margin:0;
    min-height:100%;
    background:#d4d4d4;             
    color:#111;
    font-family:'Gaegu', cursive, sans-serif;
    display:flex; flex-direction:column; justify-content:center; align-items:center;
    text-align:center; position:relative; overflow:hidden;

    background-color: #fff;
  background-image: linear-gradient(to bottom, #c9d6e3 1px, transparent 1px);
  background-size: 100% 28px;   
  background-repeat: repeat;
  }
  body::before{
      content:"";
  position:fixed;
  top:0; left:60px;   
  width:2px;
  height:100%;
  background:#ff6b6b;
  pointer-events:none;
  z-index:0;
}
  @keyframes grainWiggle{
    0%   { background-position: 0px 0px, 1px 1px, 2px -1px; }
    25%  { background-position: 1px -1px, 2px 2px, -1px 1px; }
    50%  { background-position: -1px 1px, 0px -1px, 1px 2px; }
    75%  { background-position: -2px -1px, 1px 0px, 0px 0px; }
    100% { background-position: 0px 0px, 1px 1px, 2px -1px; }
  }

  h2{
    margin:0 0 24px;
    font-weight:700;
    font-size: 40px; 
    position:relative; z-index:1
  }
  .row{
    display:flex; justify-content:center; gap:28px;
    margin:20px 0;
    position:relative; z-index:1
  }
  .panel{display:flex; flex-direction:column; align-items:center; gap:12px}
  .swatch{
    width:180px; height:180px;  
    border-radius:14px;
    background:#ddd;
    box-shadow:0 0 0 3px rgba(0,0,0,.08) inset;
  }
  small{color:#444; font-size:20px} 
  input[type="color"]{
    width:80px; height:60px;   
    border:none; border-radius:10px; cursor:pointer
  }
  button{
    padding:14px 22px;         
    border:2px solid #999;
    border-radius:12px;
    background:#fff;
    cursor:pointer;
    font-size:20px;
  }
  button:hover{background:#f5f5f5}
  #score{
    font-size:28px; margin-top:14px; position:relative; z-index:1
  }
</style>
</head>
<body>
  <h2>Pick The Color</h2>

  <div class="row">
    <div class="panel">
      <div id="target" class="swatch"></div>
      <small>Target</small>
    </div>
    <div class="panel">
      <div id="yours" class="swatch"></div>
      <small>Your color</small>
    </div>
  </div>

  <div class="row">
    <input id="pick" type="color" value="#888888">
    <button id="new">New round</button>
  </div>

  <div id="score">Score: 0</div>
  <small class="row" style="color:#555; font-size:18px">90점 이상이면 승리!</small>

<script>
  const target=document.getElementById('target');
  const yours =document.getElementById('yours');
  const pick  =document.getElementById('pick');
  const score =document.getElementById('score');
  const btnNew=document.getElementById('new');

  let targetHex="#000000";
  const randHex=()=>"#"+Math.floor(Math.random()*0xffffff).toString(16).padStart(6,"0");
  const hexToRgb=h=>{const n=parseInt(h.slice(1),16);return{r:(n>>16)&255,g:(n>>8)&255,b:n&255}};
  const distance=(a,b)=>Math.hypot(a.r-b.r,a.g-b.g,a.b-b.b);
  const scoreFromDist=d=>Math.round(Math.max(0,100-(d/441.67295593)*100));

  function startRound(){
    targetHex=randHex();
    target.style.background=targetHex;
    pick.value="#888888";
    yours.style.background=pick.value;
    score.textContent="Score: 0";
  }
  pick.oninput=function(){
    yours.style.background=pick.value;
    const s=scoreFromDist(distance(hexToRgb(targetHex),hexToRgb(pick.value)));
    score.textContent="Score: "+s+(s>=90?" 야호! 성공했다! You win!":"");
  };
  btnNew.onclick=startRound;
  startRound();
</script>
</body>
</html>